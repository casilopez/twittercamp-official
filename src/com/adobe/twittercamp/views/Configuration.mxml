<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" styleName="panelCanvas"
		   horizontalScrollPolicy="off" verticalScrollPolicy="off">
	<mx:Script>
		<![CDATA[
			import flash.filesystem.File;
			import com.adobe.twittercamp.models.TwitterCampModel;
			
			private function apply():void
			{
				var model:TwitterCampModel = TwitterCampModel.getInstance();
				model.backgroundColor = backgroundColorPicker.selectedColor;
				model.backgroundImageUrl = backgroundImageUrl.text;
				model.footerMessage = footerMessageText.text;
				model.footerHeight = footerHeightStepper.value;
			}
			
			private var backgroundImageFile:File;
			
			private function selectBackgroundImage():void
			{
				backgroundImageFile = new File();
				backgroundImageFile.browse();
 				backgroundImageFile.addEventListener( Event.SELECT, function( event:Event ):void
				{
					backgroundImageFile.cancel();
					backgroundImageUrl.text = backgroundImageFile.url;
				} );
			}
			
			private function selectDefaultSkin():void
			{
				trace("selecting default profile");
				TwitterCampModel.getInstance().resetSkins();
			}
			
			private function selectCustomSkin():void
			{
				apply();
			}
		]]>
	</mx:Script>		   
	<mx:Label y="10" text="How would you like to skin TwitterCamp?" left="10" right="10"/>
	<mx:RadioButton id="defaultRadioButton" value="default" x="10" y="35" label="Use the default skins." change="if( defaultRadioButton.selected ) selectDefaultSkin()"  selected="true"/>
	<mx:RadioButton id="customRadioButton" value="custom" x="10" y="55" label="Use the following images:" change="if( customRadioButton.selected ) selectCustomSkin()" />
	<mx:Form y="81" width="{width - 20}" x="10" paddingLeft="0" paddingBottom="0" paddingRight="0" paddingTop="0" enabled="{customRadioButton.selected}">
		
		<mx:FormItem label="Background Color" horizontalCenter="0" direction="horizontal">
			<mx:TextInput id="backgroundColorText" click="backgroundColorPicker.open()" text="{backgroundColorPicker.selectedColor.toString(16)}" enabled="false" width="75"/>
			<mx:ColorPicker id="backgroundColorPicker" />
		</mx:FormItem>
		<mx:FormItem label="Background Image" direction="horizontal">
			<mx:TextInput id="backgroundImageUrl" width="160" />
			<mx:Button label="Browse" click="selectBackgroundImage()"/>
		</mx:FormItem>
		<mx:FormItem label="Background Logo" direction="horizontal">
			<mx:TextInput id="backgroundLogoUrl" width="160"/>
			<mx:Button label="Browse"/>
		</mx:FormItem>
		<mx:FormItem label="Footer Logo" direction="horizontal">
			<mx:TextInput id="footerLogoUrl"  width="160"/>
			<mx:Button label="Browse"/>
		</mx:FormItem>
		<mx:FormItem label="Bubble Logo" direction="horizontal">
			<mx:TextInput id="bubbleLogoUrl"  width="160"/>
			<mx:Button label="Browse"/>
		</mx:FormItem>
		<mx:FormItem label="Foote Height">
			<mx:NumericStepper id="footerHeightStepper" minimum="0" maximum="10000" stepSize="1" change="TwitterCampModel.getInstance().footerHeight = footerHeightStepper.value" />
		</mx:FormItem>
		<mx:FormItem label="Footer Message" direction="horizontal">
			<mx:TextArea id="footerMessageText" width="160" change="TwitterCampModel.getInstance().footerMessage = footerMessageText.text" />
		</mx:FormItem>
	</mx:Form>
	<mx:Button label="Close" right="10" bottom="10" click="visible = false"/>
	<mx:Button label="Apply" right="71" bottom="10" click="apply()"/>
	
</mx:Canvas>
